<apex:page controller="xsms.SMSTemplate_Controller" showHeader="false" sidebar="false">
  <apex:form >	
  	<script>
		function closeWindow(id,name,body)
		{
			window.parent.opener.setSelectedSMSTemplate(id,name,body);
			window.parent.close();
		} 
  	  </script>
  
	<h1 style="background-color: transparent;color: #333435;display: block;float: none;font-family: Arial, Helvetica, sans-serif;font-size: 24px;font-weight: bold;
	height: 30px;
	margin-bottom: 20px;
	margin-left: 0px;	
	margin-right: 0px;
	margin-top: 5px;
	padding-bottom: 0px;
	padding-left: 0px;
	padding-right: 0px;
	padding-top: 0px;
	vertical-align: baseline;
	white-space: nowrap;
	width: 88px;">SMS Template Lookup</h1>
	<apex:pageBlock >
	<table>
       <tbody>
       	   <!-- <tr>
       	   		<td>
       	   			<div class="message infoM4" id="msgBox">
						<table class="messageTable" border="0" cellpadding="0" cellspacing="0">
							<tbody><tr><td>
								<img src="/s.gif" alt="Information" class="msgIcon" title="Information"/> 
								</td><td class="messageCell"><div class="messageText">Please note application/booking can be associated with only active property types in same project.</div>
							</td></tr>
							</tbody>
						</table>
					</div>
       	   		</td>
       	   </tr>  -->
           <tr>
               <td>
                   Search: 
                   <apex:inputText value="{!searchKeyword}"/>&nbsp;&nbsp;&nbsp;
                   <apex:commandButton action="{!searchTemplates}" value="Search"/>              
                   <!--  <div class="bDescription">You can use "*" as a wildcard next to other characters to improve your search results.</div> -->
               </td>
           </tr>
       </tbody>
   </table>
   </apex:pageBlock>
   <apex:pageMessages />
   <apex:pageBlock title="Search Results">
   		<apex:pageBlockTable value="{!smsTemplateList}" var="template">
                <apex:column >
                    <apex:facet name="header">Template Name</apex:facet>
                    <apex:outputLink onclick="closeWindow('{!template.Id}','{!JSENCODE(template.Name)}' ,'{!JSENCODE(template.body)}')">{!JSENCODE(template.Name)}</apex:outputLink>
                </apex:column>
                <apex:column >
                    <apex:facet name="header">SMS Subject</apex:facet>
                    <apex:outputField value="{!template.Subject}"/>
                </apex:column>
                <apex:column >
                    <apex:facet name="header">Type</apex:facet>
                    <apex:outputField value="{!template.TemplateType}"/>
                </apex:column>
                <apex:column >
                    <apex:facet name="header">Folder</apex:facet>
                    <apex:outputField value="{!template.Folder.Name}"/>
                </apex:column>
                <apex:column >
                    <apex:facet name="header">Description</apex:facet>
                    <apex:outputField value="{!template.Description}"/>
                </apex:column>
            </apex:pageBlockTable>
   </apex:pageBlock>			
  </apex:form>
</apex:page>